

<div class="list row">
  <div class="col-md-8">
    <div class="input-group mb-3">
      <input
      type="text"
      class="form-control"
      placeholder="Busca por nome"
      [(ngModel)]="nome"
      #botao
      (keypress)="searchNome(botao.value)"
      />
      <div class="input-group-append">
        <button
        class="btn btn-outline-secondary"
        type="button"
        (click)="searchNome(botao.value)"
        >
        Buscar
      </button>
    </div>
  </div>
</div>


<div class="col-md-6">
  <h4>Lista de autores</h4>
  <ul class="list-group">
    <li
    class="list-group-item"
    *ngFor="let autor of autores;
    let i = index"
    [class.active]="i == currentIndex"
    (click)="setActiveAutor(autor,i)"
    >
    {{ autor.nome }}
  </li>
</ul>
<br>
<!--<button class="m-3 btn btn-sm btn-danger" (click)="removeAllAutores()">
  Remove All
</button>
-->
</div>
<div>
  
</div>
<div>
  
  <div *ngIf="currentAutor?.id_autor">
    <div class="col">
      <div class="card DivWithScroll ">
        <div class="card-body">
          <table><tr>
            <h4>Autor</h4></tr>
            <tr>
              <td><label><strong>Id: </strong></label>{{currentAutor.id_autor}}</td>
            </tr>
            <tr>
              <td><label><strong>Autor:</strong></label> {{ currentAutor.nome}}</td>
            </tr>
            <tr>
              <td><label><strong>Idade:</strong></label>
                {{ currentAutor.idade }}</td>
              </tr>
              <hr>
              <tr><h4>Livros</h4></tr>
              
              <div *ngFor="let livro of currentAutorLivros;">
                <tr>
                  <td><label><strong>Titulo:</strong></label> {{ livro.titulo }}</td>
                </tr>
                <tr>
                  <td><label><strong>Lançamento:</strong></label>
                    {{ livro.lancamento }}</td>
                    
                  </tr>
                  <hr>
                </div>
              </table>
              
              <div>
                <a class="badge badge-warning" routerLink="/autor/{{ currentAutor.id_autor }}">
                  Editar
                </a>
              </div>
              <div>
                <button class="badge badge-secondary" (click)="resetActiveAutor()">Limpar seleção</button>
              </div>
              <button class="badge badge-dark" (click)="ngOnInit()">
                Limpar busca
              </button>
            </div>
            <div>
              
            </div> 
          </div>
        </div>
      </div>
    </div>
    
  </div>